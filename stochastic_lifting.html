<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Stochastic Lifting â€“ Video Wall</title>
    <link rel="stylesheet" href="stochastic_lifting.css">
</head>

<body>
    <main id="content"></main>

    <script>
        /* ---------------------------------------------
           Hard-coded configuration
        --------------------------------------------- */
        const DIRS = ['wave', 'flow', 'polar', 'bair', 'clevrer']; // display order
        const BASE_PATH = 'sl_vids/';   // parent folder
        const FIRST_IDX = 0;            // first clip number
        const LAST_IDX = 11;           // last  clip number (inclusive)

        function buildVideoWall() {
            const container = document.getElementById('content');

            DIRS.forEach(dir => {
                /* SECTION & HEADING */
                const section = document.createElement('section');
                section.className = 'directory';

                const heading = document.createElement('h2');
                heading.textContent = dir;
                section.appendChild(heading);

                /* GRID */
                const grid = document.createElement('div');
                grid.className = 'video-grid';

                for (let i = FIRST_IDX; i <= LAST_IDX; i++) {
                    const src = `${BASE_PATH}${dir}/${i}.mp4`;

                    const video = document.createElement('video');
                    video.src = src;
                    video.autoplay = true;
                    video.muted = true;
                    video.loop = true;
                    video.playsInline = true;
                    video.controls = false;

                    /* If a clip is missing, quietly drop its tile */
                    video.addEventListener('error', () => video.remove());

                    grid.appendChild(video);
                }

                section.appendChild(grid);
                container.appendChild(section);
            });
        }

        document.readyState === 'loading'
            ? document.addEventListener('DOMContentLoaded', buildVideoWall)
            : buildVideoWall();
    </script>
</body>

</html>